,>,>, read PPM header
>>[-]+<< set flag

>[-]+<----------[[-]>[>[-]<[-]]<]>[-]<
[-]+<------------------------------------------------------[[-]>[>>[-]<<[-]]<]>[-]<
[-]+<--------------------------------------------------------------------------------[[-]>[>>>[-]<<<[-]]<]>[-]<

check flag:
[-]>>>>>[-]+<[[-]>[<<<<<[-]+>>>>>[-]]<]>[[-]+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.+++++++++++++++++++++++++++++++++++++.++++++++.---------------------.+++++++++++.---.-----.[-]++++++++++++++++++++++++++++++++.++++++++++++++++++++++++++++++++++++++++++++++++..---.[-]++++++++++++++++++++++++++++++++.++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.---.----.+++.+.+++++++++++++.[-]++++++++++++++++++++++++++++++++.++++++++.+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.+++++++++++++++++++.--------.-----------.--.+++++++++++++++++.---------------.-.[-]++++++++++++++++++++++++++++++++.++++++++++++++++++++++++++++++++++++++++++++++++.--------------------------.-------------.[-]++++++++++.[-]]<<<<<

[[-]
read width and height (limited to 16 bit values)
+[,[>+>+<<-]>>[<<+>>-]+<--------------------------------[[-]>[>>>>>>>+<[>-]>[->+>[<-]<[<]>[-<+>]]<-[++<[>-]>[->>-<]<<-<<<<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]>>>>+<[>-]>[->+>[<-]<[<]>[-<+>]]<-]<-[<<<<<<<<->>>>>>>>-----]<<<<<<<<+++[->>>>+<+[>-]>[->>+<]<<<<<]>>>>+<[>-]>[->+>[<-]<[<]>[-<+>]]<-[++<[>-]>[->>-<]<<->>>>>>+<+[>-]>[->>+<]<<<<<<+<[>-]>[->+>[<-]<[<]>[-<+>]]<-]<<<<+>>[-]]<]>[<<[-]>>[-]]<<]>>>>[-]>>>>[<<<<+>>>>-]<[-]>>>>[<<<<+>>>>-]<<<+[,[>+>+<<-]>>[<<+>>-]+<----------[[-]>[>>>>>>>+<[>-]>[->+>[<-]<[<]>[-<+>]]<-[++<[>-]>[->>-<]<<-<<<<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]<+<+[>-]>[->>+<]>>>>+<[>-]>[->+>[<-]<[<]>[-<+>]]<-]<-[<<<<<<<<->>>>>>>>-----]<<<<<<<<+++[->>>>+<+[>-]>[->>+<]<<<<<]>>>>+<[>-]>[->+>[<-]<[<]>[-<+>]]<-[++<[>-]>[->>-<]<<->>>>>>+<+[>-]>[->>+<]<<<<<<+<[>-]>[->+>[<-]<[<]>[-<+>]]<-]<<<<+>>[-]]<]>[<<[-]>>[-]]<<]<<<<<<<<[-]>>>>>>>>>>>>>>>>[<<<<<<<<<<<<<<<<+>>>>>>>>>>>>>>>>-]<<<<<<<<<<<<<[-]>>>>>>>>>>>>>>>>[<<<<<<<<<<<<<<<<+>>>>>>>>>>>>>>>>-]<<<<<<<<<<<<<<<<<<<
copy width
>>>>>>>>[-]<<<[-]<[>>>>+<<<+<-]>[<+>-]>>>>>>[-]<<<<<[-]>[>>>>+<<<<<+>-]<[>+<-]>>>>>>
validate the maximum value for each color
,>,>,>, read maximum value
>>[-]+<<   set flag

>[-]+<----------[[-]>[>[-]<[-]]<]>[-]<
[-]+<-----------------------------------------------------[[-]>[>>[-]<<[-]]<]>[-]<
[-]+<-----------------------------------------------------[[-]>[>>>[-]<<<[-]]<]>[-]<
[-]+<--------------------------------------------------[[-]>[>>>>[-]<<<<[-]]<]>[-]<

check flag:
[-]>>>>>>[-]+<[[-]>[<<<<<<[-]+>>>>>>[-]]<]>[[-]+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.+++++++++++++++++++++++++++++++++++++.++++++++.---------------------.+++++++++++.---.-----.[-]++++++++++++++++++++++++++++++++.+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.------------.+++++++++++++++++++++++.---------------.++++.++++++++.--------.[-]++++++++++++++++++++++++++++++++.+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.++++++++++++.---.+++.+++.[-]++++++++++++++++++++++++++++++++.++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.---------------------.+++++++++++.+++++++++.----------------.[-]++++++++++++++++++++++++++++++++.++++++++.+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.+++++++++++++++++++.--------.-----------.--.+++++++++++++++++.---------------.-.[-]++++++++++++++++++++++++++++++++.++++++++++++++++++.+++..------------.[-]++++++++++.[-]]<<<<<<

[[-]
write qoi header
[-]+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.--.------.---.[-]

write width
<<<<<<<..>>.<<<.>>>>>>>>
write height
<<<<<<<<<<<..>>.<<<.>>>>>>>>>>>>
write channels (3=RGB) and colorspace (0=sRGB)
[-]+++.---.[-]

set 0xfe
[-]--
while pixels remain convert them
<<<<<<<<<<<+<[>-]>[->+>[<-]<[<]>[-<+>]]<-[+>>>>>>>>+<[>-]>[->+>[<-]<[<]>[-<+>]]<-[+>>>>,>,>,>>>>[-]>[-]<<<<<[>>>>+>+<<<<<-]>>>>>[<<<<<+>>>>>-]<[<->-]>[-]<<<<<<[>>>>>+>+<<<<<<-]>>>>>>[<<<<<<+>>>>>>-]<[<<->>-]>[-]<<<<<<<[>>>>>>+>+<<<<<<<-]>>>>>>>[<<<<<<<+>>>>>>>-]<[<<<->>>-]>>[-]+<[-]++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<[-]+<<<+[-[-[-[[-]>>>[>>[-]<<[-]]<<<]>>>[-]<<<]>>>[>++++++++++++++++<[-]]<<<]>>>[>++++++++++++++++++++++++++++++++<[-]]<<<]>>>[>++++++++++++++++++++++++++++++++++++++++++++++++<[-]]+<<+[-[-[-[[-]>>[>>[-]<<[-]]<<]>>[-]<<]>>[>++++<[-]]<<]>>[>++++++++<[-]]<<]>>[>++++++++++++<[-]]+<+[-[-[-[[-]>[>>[-]<<[-]]<]>[-]<]>[>+<[-]]<]>[>++<[-]]<]>[>+++<[-]]+>>[[-]<<[>.<[-]]>>]<<[<<<<<<<#.>.>.>.>>>>[-]]<<<[-]>>>[-]<<<<<<[>>>+>>>+<<<<<<-]>>>>>>[<<<<<<+>>>>>>-]<<[-]>>[-]<<<<<[>>>+>>+<<<<<-]>>>>>[<<<<<+>>>>>-]<[-]>[-]<<<<[>>>+>+<<<<-]>>>>[<<<<+>>>>-]<<<<<<<<<<+<[>-]>[->>-<]<<->+<[>-]>[->+>[<-]<[<]>[-<+>]]<-]<<<<<[>>>>+<<<+<-]>[<+>-]>>[>>>>+<<<<<+>-]<[>+<-]<<<<<+<[>-]>[->>-<]<<->+<[>-]>[->+>[<-]<[<]>[-<+>]]<-]<
write end of stream mark (0000 0001)
[-].......+.
exit
[-]]]
